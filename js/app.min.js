(()=>{"use strict";let e=!1;setTimeout((()=>{if(e){let e=new Event("windowScroll");window.addEventListener("scroll",(function(t){document.dispatchEvent(e)}))}}),0);const t=document.querySelector(".points__row--data").cloneNode(!0),o=document.querySelector(".points__body");function n(){function e(){const e=document.querySelectorAll(".input__point--y");return e[e.length-1]}let n=e();n.addEventListener("change",(function i(l){const c=t.cloneNode(!0);o.append(c),n.removeEventListener("change",i),n=e(),n.addEventListener("change",i)}))}function i(e,t,o){const n=[],i=[];for(let l=0;l<this.x.length;l++){e.beginPath();const c=this.x[l]/(t.maxCountX/10)*t.widthDivision+t.startX,r=t.startY-this.y[l]/(t.maxCountY/10)*t.widthDivision;n.push(c),i.push(r),e.arc(c,r,2,0,2*Math.PI),e.fillStyle=o,e.strokeStyle=o,e.stroke(),e.fill(),e.closePath()}e.moveTo(n[0],i[0]);for(let t=1;t<n.length;t++)e.lineTo(n[t],i[t]),e.stroke()}const l=document.querySelector("#shedule"),c=document.querySelector(".shedule"),r=document.querySelector("#x"),s=document.querySelector("#y"),u=document.querySelector("#divisionX"),a=document.querySelector("#divisionY"),d=document.querySelector("#color"),f=document.querySelector(".points__title--x"),p=document.querySelector(".points__title--y"),m=document.querySelector(".data__button--build"),h=document.querySelector(".data__button--clear"),_=document.querySelector(".shedule__button--1"),x=document.querySelector(".shedule__button--2"),v=document.querySelector(".data__main");let y,T,S,w,g,A,b,k,q=!0;const C=l.getContext("2d");function L(){C.clearRect(0,0,y,T)}function E(e){L(),g=e?function(e=10,t=10){const o=Math.floor(y/20)-2,n=Math.floor(y/2/o)*o,i=y/2,l=T/2,c=e/10,r=t/10;return C.strokeStyle="#000",window.screen.width<768?C.font="8px serif":C.font="12px serif",C.beginPath(),C.strokeStyle="#000",C.fillStyle="#000",function(e){for(let t=0,c=0;t<n+o;t+=o,c+=e){let o=null;.1!==e&&Number.isInteger(c)||(o=c.toFixed(1)),.01===e&&(o=c.toFixed(2)),.001===e&&(o=c.toFixed(3)),C.moveTo(i+t,l-5),C.lineTo(i+t,l+5),C.fillText(0===c?"":`${o??c}`,i+t-5,l+15),C.moveTo(i-t,l-5),C.lineTo(i-t,l+5),C.fillText(0===c?"":`-${o??c}`,i-t-5,l+15)}}(c),function(e){for(let t=0,c=0;t<n+o;t+=o,c+=e){let o=null;.1!==e&&Number.isInteger(c)||(o=c.toFixed(1)),.01===e&&(o=c.toFixed(2)),.001===e&&(o=c.toFixed(3)),C.moveTo(i-5,l+t),C.lineTo(i+5,l+t),C.fillText(0===c?"":`${o??c}`,i-20,l-t-5),C.moveTo(i-5,l-t),C.lineTo(i+5,l-t),C.fillText(0===c?"":`-${o??c}`,i-25,l+t-5)}}(r),C.stroke(),C.closePath(),{widthDivision:o,startX:i,startY:l,maxCountX:e,maxCountY:t}}(S,w):function(e=10,t=10){const o=Math.floor((y-40)/10)-2,n=Math.floor(y/o)*o,i=40,l=T-40,c=e/10,r=t/10;return C.strokeStyle="#000",C.font="14px serif",C.beginPath(),C.strokeStyle="#000",C.fillStyle="#000",function(e){for(let t=0,c=0;t<n+o;t+=o,c+=e){let o=null;.1!==e&&Number.isInteger(c)||(o=c.toFixed(1)),.01===e&&(o=c.toFixed(2)),.001===e&&(o=c.toFixed(3)),C.moveTo(i+t,l-8),C.lineTo(i+t,l+8),C.fillText(0===c?"":`${o??c}`,i+t-5,l+25)}}(c),function(e){for(let t=0,i=0;t<n+o;t+=o,i+=e){let o=null;.1!==e&&Number.isInteger(i)||(o=i.toFixed(1)),.01===e&&(o=i.toFixed(2)),.001===e&&(o=i.toFixed(3)),C.moveTo(32,l-t),C.lineTo(48,l-t),C.fillText(0===i?"":`${o??i}`,10,l-t+5)}}(r),C.stroke(),C.closePath(),{widthDivision:o,startX:i,startY:l,maxCountX:e,maxCountY:t}}(S,w),e?function(){const e=""===r.value?"x":r.value,t=""===s.value?"y":s.value;C.beginPath(),C.strokeStyle="#000",C.moveTo(y/2,0),C.lineTo(y/2,T),C.moveTo(0,T/2),C.lineTo(y,T/2),C.stroke(),C.closePath(),C.stroke(),C.font="24px serif",b=e.slice(0,1).toUpperCase().concat(e.slice(1)),k=t.slice(0,1).toUpperCase().concat(t.slice(1)),C.fillText(b,y-60,T/2+40),C.fillText(k,y/2+20,30)}():function(){const e=""===r.value?"x":r.value,t=""===s.value?"y":s.value;C.beginPath(),C.strokeStyle="#000",C.moveTo(40,0),C.lineTo(40,T-40),C.moveTo(40,T-40),C.lineTo(y,T-40),C.stroke(),C.closePath(),C.stroke(),C.font="24px serif",b=e.slice(0,1).toUpperCase().concat(e.slice(1)),k=t.slice(0,1).toUpperCase().concat(t.slice(1)),C.fillText(b,y-60,T-60),C.fillText(k,60,30)}(),f.textContent=b,p.textContent=k}function F(){y=c.clientWidth,T=c.clientHeight,T=y,window.screen.width<768&&(T=y),l.setAttribute("width",`${y}px`),l.setAttribute("height",`${T}px`)}function P(){E(q);let e={x:Array.from(document.querySelectorAll(".input__point--x")).map((e=>+e.value)).slice(0,-1),y:Array.from(document.querySelectorAll(".input__point--y")).map((e=>+e.value)).slice(0,-1)};i.bind(e,C,g,A)()}F(),E(q),n(),window.addEventListener("resize",(function(e){F(),E(q),P()})),v.addEventListener("change",(function(){L(),S=""===u.value?"10":u.value,w=""===a.value?"10":a.value,A=""===d.value?"#000":d.value,E(q),P()})),m.addEventListener("click",P),h.addEventListener("click",(function(){L(),E(),o.innerHTML='<tr class="points__row">\n                <th class="points__title points__title--x">X</th>\n                <th class="points__title points__title--y">Y</th>\n              </tr>\n              <tr class="points__row points__row--data">\n                <td class="points__x">\n                  <input autocomplete="off" type="number" name="point" placeholder="0"\n                    class="input__point input__point--x">\n                </td>\n                <td class="points__y">\n                  <input autocomplete="off" type="number" name="point" placeholder="0"\n                    class="input__point input__point--y">\n                </td>\n              </tr>',n()})),_.addEventListener("click",(()=>{q=!0,E(q)})),x.addEventListener("click",(()=>{q=!1,E(q)})),window.FLS=!0,function(e){let t=new Image;t.onload=t.onerror=function(){e(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}((function(e){let t=!0===e?"webp":"no-webp";document.documentElement.classList.add(t)}))})();